<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OrioPlay </title>
    <!-- Meta Tags for SEO and Social Sharing -->
<meta name="description" content="Experience fast, immersive short videos on OrioPlay â€“ a next-generation video platform built for creators and viewers.">
<meta name="keywords" content="OrioPlay, Short Video App, Social video, Viral clips, Entertainment platform, Trending content, Vertical videos, Fast video app">
<meta name="author" content="Oriontec Pvt. Ltd.">
<meta name="robots" content="index, follow">

<!-- Open Graph for Facebook/LinkedIn -->
<meta property="og:title" content="OrioPlay  Next-Gen Short Video Platform">
<meta property="og:description" content="Enjoy trending content with smooth vertical scrolling, live engagement, and ultra-fast performance. Designed for creators and fans worldwide.">
<meta property="og:image" content="https://community.oriontec.xyz/813B3977-9AA1-43A8-962D-44F6FBE1A426.png">
<meta property="og:url" content="https://community.oriontec.xyz/Orioplay.html">
<meta property="og:type" content="website">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="OrioPlay  Next-Gen Short Video Platform">
<meta name="twitter:description" content="Scroll through viral videos with lightning-fast performance and real-time interactions. Built for the modern digital experience.">
<meta name="twitter:image" content="https://community.oriontec.xyz/813B3977-9AA1-43A8-962D-44F6FBE1A426.png">
    <!-- Favicon -->
<link rel="icon" type="image/png" href="https://community.oriontec.xyz/IMG_9051.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #000;
            color: white;
            margin: 0;
            padding: 0;
            height: 100vh;
            overflow: hidden;
        }
        
        .reel-container {
            height: 100vh;
            scroll-snap-type: y mandatory;
            overflow-y: scroll;
            overflow-x: hidden;
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
        
        .reel-container::-webkit-scrollbar {
            display: none;  /* Chrome, Safari, Opera */
        }
        
        .reel {
            height: 100vh;
            scroll-snap-align: start;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .video-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        
        .reel-video {
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            object-fit: cover;
        }
        
        .reel-content {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            padding: 20px;
            background: linear-gradient(transparent, rgba(0,0,0,0.7) 40%, rgba(0,0,0,0.9));
            z-index: 1;
        }
        
        .progress-bar {
            height: 3px;
            background-color: rgba(255,255,255,0.3);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 2;
        }
        
        .progress {
            height: 100%;
            background-color: white;
            width: 0%;
        }
        
        .reel-actions {
            position: absolute;
            right: 16px;
            bottom: 120px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 24px;
            z-index: 2;
        }
        
        .action-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            cursor: pointer;
        }
        
        .profile-pic {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 2px solid white;
            object-fit: cover;
        }
        
        .plus-icon {
            position: absolute;
            bottom: -5px;
            right: -5px;
            background-color: #0095f6;
            border-radius: 50%;
            width: 16px;
            height: 16px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 10px;
            font-weight: bold;
        }
        
        .verified-badge {
            color: #3897f0;
            margin-left: 4px;
            font-size: 14px;
        }
        
        .music-info {
            display: flex;
            align-items: center;
            margin-top: 8px;
        }
        
        .music-note {
            margin-right: 8px;
            animation: rotate 2s linear infinite;
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .like-animation {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            font-size: 100px;
            color: white;
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 3;
        }
        
        .show-like {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
        }
        
        .hide-like {
            transform: translate(-50%, -50%) scale(0);
            opacity: 0;
        }
        
        .video-controls {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 2;
        }
        
        .mute-btn {
            background-color: rgba(0,0,0,0.5);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
        }
        
        .timestamp {
            position: absolute;
            bottom: 100px;
            right: 20px;
            background-color: rgba(0,0,0,0.5);
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 12px;
            z-index: 2;
        }
        
        .loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
        }
        
        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .liked {
            color: #ed4956;
        }
        
        .header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            padding: 15px 20px;
            background: linear-gradient(rgba(0,0,0,0.8), transparent);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10;
        }
        
        .logo {
            font-size: 24px;
            font-weight: bold;
            background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            display: inline-block;
        }
        
        .username-container {
            display: flex;
            align-items: center;
        }
        
        .mention {
            color: #3897f0;
            font-weight: 500;
        }
        
        .hashtag {
            color: #3897f0;
            font-weight: 500;
        }
        
        .like-count {
            transition: transform 0.3s ease;
        }
        
        .like-count.pulse {
            transform: scale(1.3);
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- Loading Screen -->
        <div class="loading" id="loadingScreen">
            <div class="loading-spinner"></div>
        </div>
        
        <!-- Header - Only Logo -->
        <div class="header">
            <div class="logo">OrioPlay</div>
        </div>
        
        <!-- Main App -->
        <div class="reel-container" id="reelContainer">
            <!-- Reels will be dynamically added here -->
        </div>
        
        <div class="like-animation" id="likeAnimation">
            <i class="fas fa-heart"></i>
        </div>
    </div>
    
    <script>
        // DOM Elements
        const loadingScreen = document.getElementById('loadingScreen');
        const reelContainer = document.getElementById('reelContainer');
        const likeAnimation = document.getElementById('likeAnimation');
        
        // Global variables
        let reelsData = [];
        let verifiedReelsData = [];
        let currentVideoElement = null;
        let isVideoMuted = false; // Videos play with sound by default
        let isLoadingMoreReels = false;
        let initialReelsCount = 5; // Number of reels to show initially
        let reelsToAddOnScroll = 3; // Number of reels to add when scrolling
        let reelIdCounter = 0;
        
        // Local storage key for liked videos
        const LIKED_VIDEOS_STORAGE_KEY = 'orioplay_liked_videos';
        
        // Verified users with their content - UPDATED with exact profile pictures
        const verifiedUsers = [
            {
                id: 'verified1',
                username: 'Gursharn_Arya',
                profilePic: 'https://community.oriontec.xyz/IMG_8983.jpeg',
                isVerified: true
            },
            {
                id: 'verified2',
                username: 'orry',
                profilePic: 'https://community.oriontec.xyz/IMG_9034.jpeg',
                isVerified: true
            },
            {
                id: 'verified3',
                username: 'oriontec',
                profilePic: 'https://community.oriontec.xyz/B1091BFA-9F3C-4988-B868-4DE5B72C67FB.png',
                isVerified: true
            }
        ];
        
        // Verified users' videos with specific captions
        const verifiedVideos = [
            {
                userId: 'verified1',
                videoUrl: "https://community.oriontec.xyz/AQMz7l-cbcOcNYT-F98p0tPeXpKNjd1C90HzaL4k-_e1HlXEMOXyJcmLTRXgsR85xblB-KEK6L-cfmKZTn1ne3LU43Pp6y1-r0FpoAA.mp4",
                caption: "Real squid game <span class='hashtag'>#trending</span>",
                music: "Diljit Dosanjh - GOAT",
                fixedLikes: 88140,
                fixedComments: 3120,
                fixedShares: 1850
            },
            {
                userId: 'verified2',
                videoUrl: "https://community.oriontec.xyz/AQO-UjmAyMarz74DjIRw2HBpYsmLCx2SfzJtUQ1WPULylpbbcA5UZ6g2S3YLq5e7DcJnwtIcRoDgm9Dtx7DLRbg4zkZdCbFLn0djOdY.mp4",
                caption: "fish jal ki rani <span class='mention'>@ananyapanday</span>",
                music: "AP Dhillon - Insane",
                fixedLikes: 128043,
                fixedComments: 5820,
                fixedShares: 2910
            },
            {
                userId: 'verified3',
                videoUrl: "https://community.oriontec.xyz/AQNI48SC1msBhQKuxyjeRYSo_3KKBsZ7sJU7evYodvwwNkKzx15RpfQD6bmIws9SqkKXumHfmm1_Zpse3sGfTN12qbr_LAAtNihZCj8.mp4",
                caption: "Tech innovation at its best! <span class='hashtag'>#oriontec</span>",
                music: "Nucleya - Bass Rani",
                fixedLikes: 95000,
                fixedComments: 4100,
                fixedShares: 2200
            }
        ];
        
        // Sample user data (non-verified)
        const regularUsers = [
            {
                id: 'user1',
                username: 'dance_lover',
                profilePic: createUserAvatar('dance_lover'),
                isVerified: false
            },
            {
                id: 'user2',
                username: 'travel_addict',
                profilePic: createUserAvatar('travel_addict'),
                isVerified: false
            },
            {
                id: 'user3',
                username: 'food_explorer',
                profilePic: createUserAvatar('food_explorer'),
                isVerified: false
            },
            {
                id: 'user4',
                username: 'carsking07',
                profilePic: 'https://community.oriontec.xyz/2021_toyota_gr_supra_a91_edition_5k_2-2560x1440.jpg',
                isVerified: false    
            },      
            {
                id: 'user5',
                username: 'comedy_central',
                profilePic: createUserAvatar('comedy_central'),
                isVerified: false
            }
        ];
        
        // Sample captions with hashtags
        const captions = [
            "Living my best life! <span class='hashtag'>#vibes</span>",
            "Can't get enough of this song ðŸŽµ",
            "Weekend mood activated âœ¨",
            "This trend is everything! ðŸ”¥",
            "Just another day in paradise ðŸŒ´",
            "When the beat drops... ðŸ’ƒ",
            "POV: You're scrolling through reels at 2am",
            "This is how we do it! <span class='hashtag'>#trending</span>",
            "Trying this for the first time ðŸ˜‚",
            "Couldn't resist joining this challenge!"
        ];
        
        // Sample music
        const musicTracks = [
            "Diljit Dosanjh - GOAT",
            "AP Dhillon - Insane",
            "Badshah - Jugnu",
            "Arijit Singh - Kesariya",
            "Neha Kakkar - Kala Chashma",
            "Guru Randhawa - High Rated Gabru",
            "Nucleya - Bass Rani",
            "Divine - Mirchi",
            "Yo Yo Honey Singh - Blue Eyes",
            "Sidhu Moose Wala - 295"
        ];
        
        // Video URLs for regular users
        const videoUrls = [
            "https://community.oriontec.xyz/AQNbGZpSZMrNlMTvlvyPCOFT_O19Oo77mPkwY_xmkp_Uijj5mB77PX0yNXv5ziWG93v_xBuK9vhgms6h1c6-XZhP5P_ziDJmnz1DkIU.mp4",
            "https://community.oriontec.xyz/AQM-uzNKIG53Qn8OIE6C8ke-zbxFn4kS-LWhPln2JkRe0TV1-XKRidGM_MX5xoafOo3CftfOJmU--d93RSDAMZbJEvCuvVOtWe_7-6g.mp4",
            "https://community.oriontec.xyz/AQMfYCk6cglI-EYVM_ikXiPDHu6AI0G5n63OfIlOlGB1mPStMS9-S3p4GZUMqKe7tHnS_y2LZU4We9ZFos7lwyAyTKZ2y9KHK7fwqDg.mp4",
            "https://community.oriontec.xyz/AQNmookkwQ4zcFJa6WmnPpWtwPlAAhAs1NqUv4OO81rHqj4_-2rNmKYQL9EoUflZFM9CUJdKNCjX3JeXqCFHxky9YG-r85gHXVuFqDM.mp4",
            "https://community.oriontec.xyz/AQOJk_n-zCbInDwXSaeQhdHKZswXi5iUwDsE6961Vk4leC0kjU5Ji2oYoNojQy-ehbSi0oiB86CU15kBD0SdlvpI8NsrIw2Vo5ne0AY.mp4",
            "https://community.oriontec.xyz/AQOrFzZWJ0gGJbq2LbuH2rKMSQPkaEvLT2Tm5zpY3A3aP7vTvC13rcGDFjNbqYiqPRykI409W56EOGlFfrA-InKAu0sjC_rUlhgbUo4.mp4",
            "https://community.oriontec.xyz/AQPWkxDUFBKHmU2AEfEnlO5uIDVpO3p6891VU_juxmxWWajnveqqJLGQr6Vrl1AlIIUezUV54LCSA5xIVBMKHF7joccNrY7HbTIBwfg.mp4",
            "https://community.oriontec.xyz/AQNesPZgQtbi0uium58ZaxX-kTds9-V-dWNvniZQpIWJ8-pr4KdSh8aYwgLT6rOuxEwcxIMG748esQ3H0k91jgUFXS8X0w2U0GsPSb8.mp4",
            "https://community.oriontec.xyz/AQMhcduKby9tmM6VGFUpr31WKOMnEDMTAytRIe5iEcbMRO9u4AfAuxGW7GvupA1WTvcMeBtK-UfSZLXNcC9IuvrABBgtFDU8q-bb7k8.mp4",
            "https://community.oriontec.xyz/AQORqLgBeyWXbSJgSTFbSFTaUA6IaKz-P_lxS_wIgpUPP8Nv7dTBeA9nmDIdcuLd1CN4YirVgNbI0cEfCwNWBgYAFbbEP56NmEILins.mp4"


        ];
        
        // Create default avatar SVG
        function createUserAvatar(username) {
            const initial = username ? username[0].toUpperCase() : 'U';
            const colors = ['#FF5733', '#33FF57', '#3357FF', '#F333FF', '#FF33A8'];
            const randomColor = colors[Math.floor(Math.random() * colors.length)];
            
            return `data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'><circle cx='50' cy='50' r='50' fill='${randomColor}'/><text x='50' y='60' font-size='40' text-anchor='middle' fill='white'>${initial}</text></svg>`;
        }
        
        // Load liked videos from local storage
        function loadLikedVideos() {
            const likedVideos = localStorage.getItem(LIKED_VIDEOS_STORAGE_KEY);
            return likedVideos ? JSON.parse(likedVideos) : {};
        }
        
        // Save liked videos to local storage
        function saveLikedVideos(likedVideos) {
            localStorage.setItem(LIKED_VIDEOS_STORAGE_KEY, JSON.stringify(likedVideos));
        }
        
        // Shuffle array (Fisher-Yates algorithm)
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }
        
        // Generate verified reels data
        function generateVerifiedReelsData() {
            verifiedReelsData = [];
            const likedVideos = loadLikedVideos();
            
            verifiedVideos.forEach((video, index) => {
                const user = verifiedUsers.find(user => user.id === video.userId);
                if (!user) return;
                
                const reelId = `verified-reel-${++reelIdCounter}`;
                const isLiked = likedVideos[reelId] === true;
                
                verifiedReelsData.push({
                    id: reelId,
                    videoUrl: video.videoUrl,
                    caption: video.caption,
                    music: video.music,
                    likes: video.fixedLikes + (isLiked ? 1 : 0), // Add user like if previously liked
                    comments: video.fixedComments,
                    shares: video.fixedShares,
                    username: user.username,
                    userImage: user.profilePic,
                    userId: user.id,
                    isLiked: isLiked,
                    isVerified: true,
                    fixedLikes: video.fixedLikes // Store original fixed likes for reference
                });
            });
        }
        
        // Generate a single regular reel data
        function generateRegularReelData() {
            // Get random video URL
            const videoUrl = videoUrls[Math.floor(Math.random() * videoUrls.length)];
            
            // Get random user, caption, and music
            const user = regularUsers[Math.floor(Math.random() * regularUsers.length)];
            const caption = captions[Math.floor(Math.random() * captions.length)];
            const music = musicTracks[Math.floor(Math.random() * musicTracks.length)];
            
            const reelId = `reel-${++reelIdCounter}`;
            const likedVideos = loadLikedVideos();
            const isLiked = likedVideos[reelId] === true;
            
            // Fixed likes for regular videos (between 5,000 and 50,000)
            const fixedLikes = Math.floor(Math.random() * 45000) + 5000;
            
            return {
                id: reelId,
                videoUrl: videoUrl,
                caption: caption,
                music: music,
                likes: fixedLikes + (isLiked ? 1 : 0), // Add user like if previously liked
                comments: Math.floor(Math.random() * 1000),
                shares: Math.floor(Math.random() * 500),
                username: user.username,
                userImage: user.profilePic,
                userId: user.id,
                isLiked: isLiked,
                isVerified: false,
                fixedLikes: fixedLikes // Store original fixed likes for reference
            };
        }
        
        // Generate initial reels data
        function generateInitialReelsData() {
            reelsData = [];
            
            // Generate verified reels data
            generateVerifiedReelsData();
            
            // Generate regular reels
            for (let i = 0; i < initialReelsCount; i++) {
                reelsData.push(generateRegularReelData());
            }
            
            // Mix verified and regular reels
            const allReels = [...verifiedReelsData, ...reelsData];
            
            // Shuffle the reels to randomize the order
            reelsData = shuffleArray(allReels);
            
            createReels();
        }
        
        // Generate more reels data for infinite scroll
        function generateMoreReelsData() {
            if (isLoadingMoreReels) return;
            
            isLoadingMoreReels = true;
            
            // Generate more regular reels
            const newReels = [];
            for (let i = 0; i < reelsToAddOnScroll; i++) {
                newReels.push(generateRegularReelData());
            }
            
            // Add a verified reel occasionally (30% chance)
            if (Math.random() < 0.3 && verifiedReelsData.length > 0) {
                const randomVerifiedReel = verifiedReelsData[Math.floor(Math.random() * verifiedReelsData.length)];
                // Create a copy with a new ID to avoid duplicate keys
                const reelId = `verified-reel-${++reelIdCounter}`;
                const likedVideos = loadLikedVideos();
                const isLiked = likedVideos[reelId] === true;
                
                const verifiedReelCopy = {
                    ...randomVerifiedReel,
                    id: reelId,
                    isLiked: isLiked,
                    likes: randomVerifiedReel.fixedLikes + (isLiked ? 1 : 0)
                };
                newReels.push(verifiedReelCopy);
            }
            
            // Shuffle the new reels
            const shuffledNewReels = shuffleArray(newReels);
            
            // Add to existing reels
            reelsData = [...reelsData, ...shuffledNewReels];
            
            // Add new reels to DOM
            addMoreReelsToDOM(shuffledNewReels);
            
            isLoadingMoreReels = false;
        }
        
        // Create reels in the DOM
        function createReels() {
            reelContainer.innerHTML = '';
            
            reelsData.forEach((reel) => {
                createReelElement(reel);
            });
            
            // Start playing first reel
            if (reelsData.length > 0) {
                const firstVideo = document.querySelector('.reel-video');
                if (firstVideo) {
                    // Add a click event to start playing with sound (needed for mobile)
                    document.body.addEventListener('click', function() {
                        if (firstVideo.paused) {
                            firstVideo.play();
                        }
                    }, { once: true });
                    
                    // Try to play automatically (may be blocked by browser)
                    firstVideo.play().catch(e => {
                        console.log('Auto-play was prevented. Please interact with the document first.');
                    });
                    
                    currentVideoElement = firstVideo;
                    startProgress(reelsData[0].id);
                    updateTimestamp(firstVideo, reelsData[0].id);
                }
            }
        }
        
        // Add more reels to DOM for infinite scroll
        function addMoreReelsToDOM(newReels) {
            newReels.forEach(reel => {
                createReelElement(reel);
            });
        }
        
        // Format number (e.g. 1.2k)
        function formatNumber(num) {
            if (num >= 1000000) {
                return (num / 1000000).toFixed(1) + 'm';
            }
            if (num >= 1000) {
                return (num / 1000).toFixed(1) + 'k';
            }
            return num;
        }
        
        // Create a single reel element
        function createReelElement(reel) {
            const reelElement = document.createElement('div');
            reelElement.className = 'reel';
            reelElement.setAttribute('data-reel-id', reel.id);
            
            const videoContainer = document.createElement('div');
            videoContainer.className = 'video-container';
            
            const video = document.createElement('video');
            video.className = 'reel-video';
            video.src = reel.videoUrl;
            video.loop = true;
            video.muted = isVideoMuted;
            video.preload = 'auto';
            video.setAttribute('playsinline', '');
            
            videoContainer.appendChild(video);
            
            const progressBar = document.createElement('div');
            progressBar.className = 'progress-bar';
            progressBar.innerHTML = '<div class="progress" id="progress-' + reel.id + '"></div>';
            
            const videoControls = document.createElement('div');
            videoControls.className = 'video-controls';
            videoControls.innerHTML = `
                <div class="mute-btn" data-reel-id="${reel.id}">
                    <i class="fas ${isVideoMuted ? 'fa-volume-mute' : 'fa-volume-up'}"></i>
                </div>
            `;
            
            const timestamp = document.createElement('div');
            timestamp.className = 'timestamp';
            timestamp.id = `timestamp-${reel.id}`;
            timestamp.textContent = '0:00';
            
            const reelContent = document.createElement('div');
            reelContent.className = 'reel-content';
            
            const userInfo = document.createElement('div');
            userInfo.className = 'flex items-center';
            
            // Create username container with verification badge if verified
            const usernameContainer = `
                <div class="username-container">
                    <div class="font-semibold">${reel.username}</div>
                    ${reel.isVerified ? '<i class="fas fa-check-circle verified-badge"></i>' : ''}
                </div>
            `;
            
            userInfo.innerHTML = `
                <div class="relative">
                    <img src="${reel.userImage}" alt="${reel.username}" class="profile-pic">
                    <div class="plus-icon">+</div>
                </div>
                <div class="ml-2">${usernameContainer}</div>
                <button class="ml-2 text-sm bg-transparent border border-white text-white px-2 py-0.5 rounded-md follow-btn" data-user-id="${reel.userId}">Follow</button>
            `;
            
            const caption = document.createElement('div');
            caption.className = 'mt-2 text-sm';
            caption.innerHTML = reel.caption; // Using innerHTML to render HTML in caption
            
            const musicInfo = document.createElement('div');
            musicInfo.className = 'music-info text-xs';
            musicInfo.innerHTML = `
                <div class="music-note"><i class="fas fa-music"></i></div>
                <div>${reel.music}</div>
            `;
            
            reelContent.appendChild(userInfo);
            reelContent.appendChild(caption);
            reelContent.appendChild(musicInfo);
            
            const reelActions = document.createElement('div');
            reelActions.className = 'reel-actions';
            
            reelActions.innerHTML = `
                <div class="action-btn like-btn ${reel.isLiked ? 'liked' : ''}" data-reel-id="${reel.id}">
                    <i class="fas fa-heart text-2xl"></i>
                    <span class="text-xs like-count" id="like-count-${reel.id}">${formatNumber(reel.likes)}</span>
                </div>
                <div class="action-btn comment-btn" data-reel-id="${reel.id}">
                    <i class="fas fa-comment text-2xl"></i>
                    <span class="text-xs">${formatNumber(reel.comments)}</span>
                </div>
                <div class="action-btn share-btn" data-reel-id="${reel.id}">
                    <i class="fas fa-paper-plane text-2xl"></i>
                    <span class="text-xs">${formatNumber(reel.shares)}</span>
                </div>
                <div class="action-btn more-btn" data-reel-id="${reel.id}">
                    <i class="fas fa-ellipsis-h text-2xl"></i>
                </div>
            `;
            
            reelElement.appendChild(videoContainer);
            reelElement.appendChild(progressBar);
            reelElement.appendChild(videoControls);
            reelElement.appendChild(timestamp);
            reelElement.appendChild(reelContent);
            reelElement.appendChild(reelActions);
            
            reelContainer.appendChild(reelElement);
            
            // Double tap to like
            reelElement.addEventListener('dblclick', function() {
                const reelId = this.getAttribute('data-reel-id');
                showLikeAnimation();
                toggleLike(reelId, true);
            });
            
            // Observe when reel is in viewport
            observeReel(reelElement, video);
        }
        
        // Observe when reel is in viewport
        function observeReel(reelElement, videoElement) {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        // Reel is visible
                        videoElement.play().catch(e => {
                            console.log('Auto-play was prevented. Please interact with the document first.');
                        });
                        currentVideoElement = videoElement;
                        const reelId = reelElement.getAttribute('data-reel-id');
                        
                        // Reset and start progress
                        document.querySelectorAll('.progress').forEach(progress => {
                            progress.style.width = '0%';
                        });
                        startProgress(reelId);
                        updateTimestamp(videoElement, reelId);
                    } else {
                        // Reel is not visible
                        videoElement.pause();
                    }
                });
            }, { threshold: 0.7 });
            
            observer.observe(reelElement);
        }
        
        // Update timestamp
        function updateTimestamp(videoElement, reelId) {
            const timestampElement = document.getElementById(`timestamp-${reelId}`);
            if (!timestampElement) return;
            
            const updateTime = () => {
                const currentTime = Math.floor(videoElement.currentTime);
                const minutes = Math.floor(currentTime / 60);
                const seconds = currentTime % 60;
                timestampElement.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
            };
            
            videoElement.addEventListener('timeupdate', updateTime);
        }
        
        // Start progress bar
        function startProgress(reelId) {
            const progressBar = document.getElementById(`progress-${reelId}`);
            const video = document.querySelector(`.reel[data-reel-id="${reelId}"] video`);
            
            if (!progressBar || !video) return;
            
            const updateProgress = () => {
                const progress = (video.currentTime / video.duration) * 100;
                progressBar.style.width = `${progress}%`;
            };
            
            video.addEventListener('timeupdate', updateProgress);
        }
        
        // Show like animation
        function showLikeAnimation() {
            likeAnimation.classList.add('show-like');
            
            setTimeout(() => {
                likeAnimation.classList.remove('show-like');
                likeAnimation.classList.add('hide-like');
                
                setTimeout(() => {
                    likeAnimation.classList.remove('hide-like');
                }, 300);
            }, 1000);
        }
        
        // Toggle like with local storage persistence
        function toggleLike(reelId, forceAdd = false) {
            const reelIndex = reelsData.findIndex(reel => reel.id === reelId);
            if (reelIndex === -1) return;
            
            const reel = reelsData[reelIndex];
            const likeBtn = document.querySelector(`.like-btn[data-reel-id="${reelId}"]`);
            if (!likeBtn) return;
            
            const likeIcon = likeBtn.querySelector('i');
            const likeCount = document.getElementById(`like-count-${reelId}`);
            
            // Get liked videos from local storage
            const likedVideos = loadLikedVideos();
            
            if (reel.isLiked && !forceAdd) {
                // Unlike
                reel.likes--;
                reel.isLiked = false;
                likeIcon.classList.remove('liked');
                likedVideos[reelId] = false; // Mark as unliked in local storage
            } else if (!reel.isLiked) {
                // Like
                reel.likes++;
                reel.isLiked = true;
                likeIcon.classList.add('liked');
                likedVideos[reelId] = true; // Mark as liked in local storage
                
                // Add like animation to the count
                likeCount.classList.add('pulse');
                setTimeout(() => {
                    likeCount.classList.remove('pulse');
                }, 300);
            }
            
            // Update like count display
            likeCount.textContent = formatNumber(reel.likes);
            
            // Save updated liked videos to local storage
            saveLikedVideos(likedVideos);
        }
        
        // Toggle video mute
        function toggleMute(reelId) {
            isVideoMuted = !isVideoMuted;
            
            // Update all videos
            document.querySelectorAll('.reel-video').forEach(video => {
                video.muted = isVideoMuted;
            });
            
            // Update mute buttons
            document.querySelectorAll('.mute-btn').forEach(btn => {
                const icon = btn.querySelector('i');
                icon.className = `fas ${isVideoMuted ? 'fa-volume-mute' : 'fa-volume-up'}`;
            });
        }
        
        // Check if user has scrolled to the bottom
        function checkScroll() {
            const scrollPosition = reelContainer.scrollTop + reelContainer.clientHeight;
            const scrollHeight = reelContainer.scrollHeight;
            
            // If user has scrolled to near the bottom, load more reels
            if (scrollHeight - scrollPosition < 500) {
                generateMoreReelsData();
            }
        }
        
        // Initialize app
        function initApp() {
            generateInitialReelsData();
            loadingScreen.style.display = 'none';
            
            // Add initial click handler to enable audio (needed for mobile browsers)
            document.addEventListener('click', function initialClickHandler() {
                const videos = document.querySelectorAll('.reel-video');
                videos.forEach(video => {
                    if (video.paused) {
                        video.play().catch(e => console.log('Could not play video'));
                    }
                });
                document.removeEventListener('click', initialClickHandler);
            });
            
            // Add scroll event listener for infinite scroll
            reelContainer.addEventListener('scroll', checkScroll);
        }
        
        // Event Listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize app
            initApp();
            
            // Event delegation for dynamic elements
            document.addEventListener('click', function(e) {
                // Like button
                if (e.target.closest('.like-btn')) {
                    const likeBtn = e.target.closest('.like-btn');
                    const reelId = likeBtn.getAttribute('data-reel-id');
                    toggleLike(reelId);
                }
                
                // Comment button
                if (e.target.closest('.comment-btn')) {
                    alert('Comments feature would be here');
                }
                
                // Mute button
                if (e.target.closest('.mute-btn')) {
                    const muteBtn = e.target.closest('.mute-btn');
                    const reelId = muteBtn.getAttribute('data-reel-id');
                    toggleMute(reelId);
                }
                
                // Share button
                if (e.target.closest('.share-btn')) {
                    alert('Share functionality would be implemented here');
                }
                
                // More button
                if (e.target.closest('.more-btn')) {
                    alert('More options would be shown here');
                }
                
                // Follow button
                if (e.target.closest('.follow-btn')) {
                    const followBtn = e.target.closest('.follow-btn');
                    followBtn.textContent = followBtn.textContent === 'Follow' ? 'Following' : 'Follow';
                }
            });
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'963b6b07f77e80bb',t:'MTc1MzI3NjIyOC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
