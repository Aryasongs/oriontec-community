<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>OrioBuzz - Social Media</title>
    
    <!-- Meta Tags for SEO and Social Sharing -->
    <meta name="description" content="Discover what's trending now on OrioBuzz – the ultimate space for viral stories, images, and updates from around the globe.">
    <meta name="keywords" content="OrioBuzz, viral stories, trending images, latest updates, online buzz, global trends, hot topics, social media highlights, Oriontec Buzz, IMG_9078">
    <meta name="author" content="Oriontec Pvt. Ltd.">
    <meta name="robots" content="index, follow">

    <!-- Open Graph for Facebook/LinkedIn -->
    <meta property="og:title" content="OrioBuzz – Where Trends Begin">
    <meta property="og:description" content="See the image that's catching everyone's attention on OrioBuzz. Stay in the loop with daily viral updates and community highlights.">
    <meta property="og:image" content="https://community.oriontec.xyz/IMG_9078.png">
    <meta property="og:url" content="https://community.oriontec.xyz/OrioBuzz.html">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="OrioBuzz">

    <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="OrioBuzz – Trending Viral Stories & Images">
    <meta name="twitter:description" content="Explore the latest viral image and buzz only on OrioBuzz. Powered by Oriontec.">
    <meta name="twitter:image" content="https://community.oriontec.xyz/IMG_9078.png">
    <meta name="twitter:url" content="https://community.oriontec.xyz/OrioBuzz.html">

    <!-- Favicon & App Icon -->
    <link rel="icon" type="image/png" href="https://community.oriontec.xyz/IMG_9078.png">
    <link rel="apple-touch-icon" href="https://community.oriontec.xyz/IMG_9078.png">
    <link rel="manifest" href="/manifest.json">

    <!-- Apple Add to Home Screen -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="OrioBuzz">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <!-- Android Chrome -->
    <meta name="theme-color" content="#000000">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-storage-compat.js"></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 25%, #4facfe 50%, #00f2fe 75%, #43e97b 100%);
        }
        .gradient-text {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 25%, #4facfe 50%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .buzz-card {
            transition: all 0.3s ease;
        }
        .buzz-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .sidebar-item {
            transition: all 0.3s ease;
        }
        .sidebar-item:hover {
            background: linear-gradient(135deg, rgba(240, 147, 251, 0.1), rgba(245, 87, 108, 0.1));
            transform: translateX(5px);
        }
        .modal-backdrop {
            backdrop-filter: blur(10px);
        }
        .verified-badge {
            display: inline-block;
            width: 1em;
            height: 1em;
            vertical-align: middle;
            margin-left: 4px;
            object-fit: contain;
        }
        .notification-dot {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .notification-item {
            transition: all 0.3s ease;
        }
        .notification-item:hover {
            background-color: #f3f4f6;
            transform: translateX(5px);
        }
        .onboarding-step {
            transition: all 0.5s ease;
        }
        .interest-tag {
            transition: all 0.3s ease;
        }
        .interest-tag:hover {
            transform: scale(1.05);
        }
        .character-counter {
            transition: color 0.3s ease;
        }
        .character-counter.warning {
            color: #f59e0b;
        }
        .character-counter.danger {
            color: #ef4444;
        }
        .poll-option {
            transition: all 0.3s ease;
        }
        .poll-option:hover {
            background-color: #f3f4f6;
        }
        .poll-bar {
            transition: width 0.5s ease;
        }
        .location-sharing {
            animation: locationPulse 2s infinite;
        }
        @keyframes locationPulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        /* Prevent zoom on mobile */
        input, textarea, select {
            font-size: 16px !important;
        }
        
        /* Disable zoom on double tap */
        * {
            touch-action: manipulation;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Login Screen -->
    <div id="loginScreen" class="min-h-screen gradient-bg flex items-center justify-center">
        <div class="bg-white rounded-3xl shadow-2xl p-12 max-w-md w-full mx-4">
            <div class="text-center mb-8">
                <h1 class="text-4xl font-bold gradient-text mb-2">OrioBuzz</h1>
                <p class="text-gray-600">Connect with the world</p>
            </div>
            <button id="googleSignIn" class="w-full bg-white border-2 border-gray-300 rounded-full py-3 px-6 flex items-center justify-center hover:bg-gray-50 transition-all duration-300 shadow-lg">
                <svg class="w-5 h-5 mr-3" viewBox="0 0 24 24">
                    <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                    <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                    <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                    <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                </svg>
                Continue with Google
            </button>
        </div>
    </div>

    <!-- Onboarding Screens -->
    <!-- Profile Setup -->
    <div id="profileSetupScreen" class="hidden min-h-screen gradient-bg flex items-center justify-center">
        <div class="bg-white rounded-3xl shadow-2xl p-8 max-w-lg w-full mx-4">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold gradient-text mb-2">Complete Your Profile</h2>
                <p class="text-gray-600">Let's set up your OrioBuzz profile</p>
            </div>
            <div class="space-y-6">
                <div>
                    <label class="block text-sm font-medium mb-2">Display Name *</label>
                    <input type="text" id="onboardingDisplayName" class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-300" placeholder="Your display name">
                </div>
                <div>
                    <label class="block text-sm font-medium mb-2">Username *</label>
                    <input type="text" id="onboardingUsername" class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-300" placeholder="username (no spaces)" oninput="checkOnboardingUsername()">
                    <p id="onboardingUsernameStatus" class="text-xs mt-1"></p>
                </div>
                <div>
                    <label class="block text-sm font-medium mb-2">Bio</label>
                    <textarea id="onboardingBio" class="w-full p-3 border border-gray-300 rounded-xl resize-none focus:outline-none focus:ring-2 focus:ring-pink-300" rows="3" placeholder="Tell us about yourself..."></textarea>
                </div>
                <div>
                    <label class="block text-sm font-medium mb-2">Location</label>
                    <input type="text" id="onboardingLocation" class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-300" placeholder="Your location">
                </div>
            </div>
            <button onclick="completeProfileSetup()" class="w-full gradient-bg text-white py-3 rounded-full hover:opacity-90 transition-opacity mt-8">
                Continue
            </button>
        </div>
    </div>

    <!-- Interest Selection -->
    <div id="interestSelectionScreen" class="hidden min-h-screen gradient-bg flex items-center justify-center">
        <div class="bg-white rounded-3xl shadow-2xl p-8 max-w-2xl w-full mx-4">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold gradient-text mb-2">What interests you?</h2>
                <p class="text-gray-600">Select topics you'd like to see in your feed</p>
            </div>
            <div id="interestTags" class="grid grid-cols-2 md:grid-cols-3 gap-4 mb-8">
                <!-- Interest tags will be loaded here -->
            </div>
            <div class="text-center">
                <button onclick="completeInterestSelection()" class="gradient-bg text-white px-8 py-3 rounded-full hover:opacity-90 transition-opacity">
                    Continue
                </button>
            </div>
        </div>
    </div>

    <!-- User Suggestions -->
    <div id="userSuggestionsScreen" class="hidden min-h-screen gradient-bg flex items-center justify-center">
        <div class="bg-white rounded-3xl shadow-2xl p-8 max-w-2xl w-full mx-4">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold gradient-text mb-2">Follow Interesting People</h2>
                <p class="text-gray-600">Discover users based on your interests</p>
            </div>
            <div id="suggestedUsers" class="space-y-4 mb-8 max-h-96 overflow-y-auto">
                <!-- Suggested users will be loaded here -->
            </div>
            <div class="text-center">
                <button onclick="completeOnboarding()" class="gradient-bg text-white px-8 py-3 rounded-full hover:opacity-90 transition-opacity">
                    Start Buzzing!
                </button>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="mainApp" class="hidden">
        <!-- Top Bar -->
        <div class="bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50">
            <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
                <h1 class="text-2xl font-bold gradient-text">OrioBuzz</h1>
                <div class="flex items-center space-x-4">
                    <img id="topBarUserImage" class="w-8 h-8 rounded-full border-2 border-pink-300" src="" alt="User">
                    <span id="topBarUsername" class="font-medium text-gray-700"></span>
                </div>
            </div>
        </div>

        <div class="max-w-6xl mx-auto flex flex-col lg:flex-row">
            <!-- Left Sidebar - Desktop -->
            <div class="hidden lg:block w-64 bg-white h-screen sticky top-16 border-r border-gray-200 p-6">
                <nav class="space-y-4">
                    <div class="sidebar-item p-3 rounded-xl cursor-pointer" onclick="showHome()">
                        <div class="flex items-center space-x-3">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/>
                            </svg>
                            <span class="font-medium">Home</span>
                        </div>
                    </div>
                    <div class="sidebar-item p-3 rounded-xl cursor-pointer" onclick="showNotifications()">
                        <div class="flex items-center space-x-3 relative">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"/>
                            </svg>
                            <span class="font-medium">Notifications</span>
                            <span id="notificationBadgeDesktop" class="hidden absolute -top-1 left-5 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center notification-dot">0</span>
                        </div>
                    </div>
                    <div class="sidebar-item p-3 rounded-xl cursor-pointer" onclick="showMessages()">
                        <div class="flex items-center space-x-3">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"/>
                                <path d="M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"/>
                            </svg>
                            <span class="font-medium">Messages</span>
                        </div>
                    </div>
                    <div class="sidebar-item p-3 rounded-xl cursor-pointer" onclick="showProfile()">
                        <div class="flex items-center space-x-3">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>
                            </svg>
                            <span class="font-medium">Profile</span>
                        </div>
                    </div>
                    <div class="sidebar-item p-3 rounded-xl cursor-pointer" onclick="showSettings()">
                        <div class="flex items-center space-x-3">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd"/>
                            </svg>
                            <span class="font-medium">Settings</span>
                        </div>
                    </div>
                    <div class="sidebar-item p-3 rounded-xl cursor-pointer" onclick="openBuzzModal()">
                        <div class="flex items-center space-x-3">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd"/>
                            </svg>
                            <span class="font-medium">Create Buzz</span>
                        </div>
                    </div>
                    <div class="sidebar-item p-3 rounded-xl cursor-pointer" onclick="logout()">
                        <div class="flex items-center space-x-3">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z" clip-rule="evenodd"/>
                            </svg>
                            <span class="font-medium">Logout</span>
                        </div>
                    </div>
                </nav>
            </div>

            <!-- Mobile Search Bar -->
            <div class="lg:hidden bg-white border-b border-gray-200 p-4">
                <input type="text" id="mobileSearchInput" placeholder="Search users..." class="w-full p-3 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-pink-300 text-sm" oninput="mobileSearchUsers()">
                <div id="mobileSearchResults" class="hidden mt-2 bg-white border border-gray-200 rounded-xl shadow-lg max-h-60 overflow-y-auto">
                    <!-- Mobile search results will appear here -->
                </div>
            </div>

            <!-- Mobile Bottom Navigation -->
            <div class="lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-40">
                <div class="flex justify-around py-2">
                    <button onclick="showHome()" class="flex flex-col items-center p-2 text-gray-600 hover:text-pink-500">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/>
                        </svg>
                        <span class="text-xs">Home</span>
                    </button>
                    <button onclick="showNotifications()" class="flex flex-col items-center p-2 text-gray-600 hover:text-pink-500 relative">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"/>
                        </svg>
                        <span class="text-xs">Notifications</span>
                        <span id="notificationBadge" class="hidden absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center notification-dot">0</span>
                    </button>
                    <button onclick="showMessages()" class="flex flex-col items-center p-2 text-gray-600 hover:text-pink-500">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"/>
                            <path d="M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"/>
                        </svg>
                        <span class="text-xs">Messages</span>
                    </button>
                    <button onclick="showProfile()" class="flex flex-col items-center p-2 text-gray-600 hover:text-pink-500">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>
                        </svg>
                        <span class="text-xs">Profile</span>
                    </button>
                    <button onclick="openBuzzModal()" class="flex flex-col items-center p-2 text-gray-600 hover:text-pink-500">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd"/>
                        </svg>
                        <span class="text-xs">Create</span>
                    </button>
                </div>
            </div>

            <!-- Main Content -->
            <div class="flex-1 lg:max-w-2xl">
                <!-- Home Feed -->
                <div id="homeFeed" class="p-4 lg:p-6 pb-20 lg:pb-6">
                    <h2 class="text-xl lg:text-2xl font-bold mb-4 lg:mb-6 gradient-text">Latest Buzz</h2>
                    <div id="buzzFeed" class="space-y-4 lg:space-y-6">
                        <!-- Buzz posts will be loaded here -->
                    </div>
                </div>

                <!-- Profile Page -->
                <div id="profilePage" class="hidden p-4 lg:p-6 pb-20 lg:pb-6">
                    <!-- Simple Profile Header -->
                    <div class="bg-white rounded-2xl shadow-lg p-6 mb-6">
                        <div class="flex flex-col items-center text-center">
                            <!-- Profile Picture -->
                            <img id="profileImage" class="w-24 h-24 rounded-full border-4 border-pink-300 mb-4" src="" alt="Profile">
                            
                            <!-- Name and Username -->
                            <div class="flex items-center space-x-2 mb-2">
                                <h2 id="profileName" class="text-xl font-bold text-gray-900"></h2>
                                <img id="profileVerified" src="https://community.oriontec.xyz/verify.png" alt="Verified" class="hidden verified-badge">
                            </div>
                            <p id="profileUsername" class="text-gray-600 mb-4"></p>
                            
                            <!-- Stats Row -->
                            <div class="flex space-x-8 mb-4">
                                <div class="text-center">
                                    <div class="text-lg font-bold text-gray-900" id="postsCount">0</div>
                                    <div class="text-sm text-gray-600">Posts</div>
                                </div>
                                <div onclick="showFollowersPage('followers')" class="text-center cursor-pointer hover:bg-gray-50 rounded-lg p-2 transition-colors">
                                    <div class="text-lg font-bold text-gray-900" id="followersCount">0</div>
                                    <div class="text-sm text-gray-600">Followers</div>
                                </div>
                                <div onclick="showFollowersPage('following')" class="text-center cursor-pointer hover:bg-gray-50 rounded-lg p-2 transition-colors">
                                    <div class="text-lg font-bold text-gray-900" id="followingCount">0</div>
                                    <div class="text-sm text-gray-600">Following</div>
                                </div>
                            </div>
                            
                            <!-- Bio -->
                            <p id="profileBio" class="text-gray-700 mb-2"></p>
                            <div id="profileLocation" class="text-gray-500 text-sm mb-4">
                                <!-- Location, contact, and website will be shown only if set -->
                            </div>
                            
                            <!-- Action Buttons -->
                            <div class="flex space-x-3">
                                <button onclick="openEditProfile()" class="gradient-bg text-white px-6 py-2 rounded-full hover:opacity-90 transition-opacity text-sm font-medium">
                                    Edit Profile
                                </button>
                                <div class="relative">
                                    <button onclick="toggleProfileOwnerMenu()" class="border border-gray-300 text-gray-700 p-2 rounded-full hover:bg-gray-50 transition-colors">
                                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                            <path d="M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"/>
                                        </svg>
                                    </button>
                                    <div id="profileOwnerMenu" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 z-50">
                                        <div class="py-2">
                                            <button onclick="openAccountSwitcher(); toggleProfileOwnerMenu()" class="w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center space-x-2">
                                                <span>🔄</span>
                                                <span>Switch Account</span>
                                            </button>
                                            <button onclick="showReferralSystem(); toggleProfileOwnerMenu()" class="w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center space-x-2">
                                                <span>💰</span>
                                                <span>Refer & Earn</span>
                                            </button>
                                            <button onclick="showCommunityManager(); toggleProfileOwnerMenu()" class="w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center space-x-2">
                                                <span>👥</span>
                                                <span>My Communities</span>
                                            </button>
                                            <button onclick="showPinnedBuzzes(); toggleProfileOwnerMenu()" class="w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center space-x-2">
                                                <span>📌</span>
                                                <span>Pinned Buzzes</span>
                                            </button>
                                            <button onclick="showSettings(); toggleProfileOwnerMenu()" class="w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center space-x-2">
                                                <span>⚙️</span>
                                                <span>Settings</span>
                                            </button>
                                            <hr class="my-2">
                                            <button onclick="logout(); toggleProfileOwnerMenu()" class="w-full text-left px-4 py-2 hover:bg-gray-100 text-red-600 flex items-center space-x-2">
                                                <span>🚪</span>
                                                <span>Logout</span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="flex space-x-4 mb-6">
                        <button id="buzzTab" onclick="showBuzzTab()" class="px-4 py-2 rounded-full bg-pink-500 text-white">Buzz</button>
                        <button id="repliesTab" onclick="showRepliesTab()" class="px-4 py-2 rounded-full bg-gray-200 text-gray-700">Replies</button>
                        <button id="resharesTab" onclick="showResharesTab()" class="px-4 py-2 rounded-full bg-gray-200 text-gray-700">Reshares</button>
                    </div>
                    <div id="userBuzzFeed" class="space-y-4 lg:space-y-6">
                        <!-- User's buzz posts will be loaded here -->
                    </div>
                    <div id="userRepliesFeed" class="hidden space-y-4 lg:space-y-6">
                        <!-- User's replies will be loaded here -->
                    </div>
                    <div id="userResharesFeed" class="hidden space-y-4 lg:space-y-6">
                        <!-- User's reshares will be loaded here -->
                    </div>
                </div>

                <!-- Notifications Page -->
                <div id="notificationsPage" class="hidden p-4 lg:p-6 pb-20 lg:pb-6">
                    <h2 class="text-xl lg:text-2xl font-bold mb-4 lg:mb-6 gradient-text">Notifications</h2>
                    <div id="notificationsFeed" class="space-y-4">
                        <!-- Notifications will be loaded here -->
                    </div>
                </div>

                <!-- Messages Page -->
                <div id="messagesPage" class="hidden p-4 lg:p-6 pb-20 lg:pb-6">
                    <div class="flex items-center justify-between mb-4 lg:mb-6">
                        <h2 class="text-xl lg:text-2xl font-bold gradient-text">Messages</h2>
                        <button onclick="openCreateGroupModal()" class="gradient-bg text-white px-4 py-2 rounded-full hover:opacity-90 transition-opacity text-sm">
                            ➕ Create Group
                        </button>
                    </div>
                    
                    <!-- Message Tabs -->
                    <div class="flex space-x-4 mb-6">
                        <button onclick="showDirectMessages()" id="directMessagesTab" class="px-4 py-2 rounded-full bg-pink-500 text-white">Direct Messages</button>
                        <button onclick="showGroupMessages()" id="groupMessagesTab" class="px-4 py-2 rounded-full bg-gray-200 text-gray-700">Groups</button>
                    </div>
                    
                    <!-- Direct Messages -->
                    <div id="directMessagesContent">
                        <div class="bg-white rounded-2xl shadow-lg p-4 mb-4">
                            <h3 class="font-bold text-lg mb-3">Direct Conversations</h3>
                            <div id="conversationsList" class="space-y-2 max-h-40 overflow-y-auto">
                                <!-- Conversations will be loaded here -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- Group Messages -->
                    <div id="groupMessagesContent" class="hidden">
                        <div class="bg-white rounded-2xl shadow-lg p-4 mb-4">
                            <h3 class="font-bold text-lg mb-3">Group Conversations</h3>
                            <div id="groupConversationsList" class="space-y-2 max-h-40 overflow-y-auto">
                                <!-- Group conversations will be loaded here -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- Chat Area -->
                    <div id="chatArea" class="hidden bg-white rounded-2xl shadow-lg">
                        <!-- Chat Header -->
                        <div class="flex items-center space-x-3 p-4 border-b border-gray-200">
                            <div class="relative">
                                <img id="chatUserImage" class="w-10 h-10 rounded-full border-2 border-pink-300" src="" alt="User">
                                <div id="chatUserOnlineIndicator" class="absolute -bottom-1 -right-1 w-3 h-3 bg-gray-400 rounded-full border-2 border-white"></div>
                            </div>
                            <div class="flex-1">
                                <h4 id="chatUserName" class="font-bold"></h4>
                                <p id="chatUserStatus" class="text-sm text-gray-500">Offline</p>
                            </div>
                            <div class="flex items-center space-x-2">
                                <button onclick="startAudioCall()" class="p-2 text-gray-500 hover:text-green-500 transition-colors rounded-full hover:bg-gray-100" title="Audio Call">
                                    📞
                                </button>
                                <button onclick="startVideoCall()" class="p-2 text-gray-500 hover:text-blue-500 transition-colors rounded-full hover:bg-gray-100" title="Video Call">
                                    📹
                                </button>
                                <button onclick="shareProfile(currentChatUser)" class="p-2 text-gray-500 hover:text-pink-500 transition-colors rounded-full hover:bg-gray-100" title="Share Profile">
                                    🔗
                                </button>
                            </div>
                        </div>
                        
                        <!-- Messages Container -->
                        <div id="messagesContainer" class="p-4 space-y-3 max-h-80 overflow-y-auto">
                            <!-- Messages will appear here -->
                        </div>
                        
                        <!-- Typing Indicator -->
                        <div id="typingIndicator" class="hidden px-4 py-2 text-sm text-gray-500 italic">
                            <span id="typingUsername"></span> is typing...
                        </div>
                        
                        <!-- Message Input -->
                        <div class="p-4 border-t border-gray-200">
                            <div class="flex space-x-2">
                                <input type="text" id="messageInput" placeholder="Type a message..." class="flex-1 p-3 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-pink-300 text-sm" oninput="handleTyping()">
                                <button id="sendMessageBtn" class="gradient-bg text-white px-6 py-3 rounded-full hover:opacity-90 transition-opacity">
                                    <span class="hidden sm:inline">Send</span>
                                    <span class="sm:hidden">📤</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- No Chat Selected -->
                    <div id="noChatSelected" class="bg-white rounded-2xl shadow-lg p-8 text-center text-gray-500">
                        <div class="text-6xl mb-4">💬</div>
                        <h3 class="text-xl font-bold mb-2">Select a conversation</h3>
                        <p>Choose a conversation to start messaging</p>
                    </div>
                </div>

                <!-- Settings Page -->
                <div id="settingsPage" class="hidden p-4 lg:p-6 pb-20 lg:pb-6">
                    <h2 class="text-xl lg:text-2xl font-bold mb-4 lg:mb-6 gradient-text">Settings</h2>
                    <div class="space-y-6">
                        <div class="bg-white rounded-2xl shadow-lg p-6">
                            <h3 class="text-lg font-bold mb-4">Privacy Settings</h3>
                            <div class="space-y-4">
                                <div class="flex items-center justify-between">
                                    <span>Private Account</span>
                                    <label class="relative inline-flex items-center cursor-pointer">
                                        <input type="checkbox" id="privateAccount" class="sr-only peer">
                                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-pink-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-pink-500"></div>
                                    </label>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span>Show Online Status</span>
                                    <label class="relative inline-flex items-center cursor-pointer">
                                        <input type="checkbox" id="showOnlineStatus" class="sr-only peer" checked>
                                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-pink-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-pink-500"></div>
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-2xl shadow-lg p-6">
                            <h3 class="text-lg font-bold mb-4">Notification Settings</h3>
                            <div class="space-y-4">
                                <div class="flex items-center justify-between">
                                    <span>Push Notifications</span>
                                    <label class="relative inline-flex items-center cursor-pointer">
                                        <input type="checkbox" id="pushNotifications" class="sr-only peer" checked>
                                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-pink-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-pink-500"></div>
                                    </label>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span>Email Notifications</span>
                                    <label class="relative inline-flex items-center cursor-pointer">
                                        <input type="checkbox" id="emailNotifications" class="sr-only peer">
                                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-pink-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-pink-500"></div>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-2xl shadow-lg p-6">
                            <h3 class="text-lg font-bold mb-4">Personal Information</h3>
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium mb-2">Full Name</label>
                                    <input type="text" id="personalFullName" class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-300" placeholder="Your full name">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium mb-2">Email</label>
                                    <input type="email" id="personalEmail" class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-300" placeholder="your@email.com">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium mb-2">Age</label>
                                    <input type="number" id="personalAge" min="13" max="100" class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-300" placeholder="Your age">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium mb-2">City</label>
                                    <input type="text" id="personalCity" class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-300" placeholder="Your city">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium mb-2">Country</label>
                                    <input type="text" id="personalCountry" class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-300" placeholder="Your country">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium mb-2">Date of Birth</label>
                                    <input type="date" id="personalDOB" class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-300">
                                </div>
                                <div id="passwordSection" class="hidden">
                                    <label class="block text-sm font-medium mb-2">Current Password (required to save changes)</label>
                                    <input type="password" id="currentPassword" class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-300" placeholder="Enter current password">
                                </div>
                                <button onclick="savePersonalInformation()" class="w-full gradient-bg text-white py-3 rounded-full hover:opacity-90 transition-opacity">
                                    Save Personal Information
                                </button>
                            </div>
                        </div>

                        <div class="bg-white rounded-2xl shadow-lg p-6">
                            <h3 class="text-lg font-bold mb-4">Verification</h3>
                            <div class="space-y-3">
                                <button onclick="openVerificationModal()" class="w-full text-left p-3 hover:bg-gray-50 rounded-xl flex items-center space-x-3">
                                    <svg class="w-5 h-5 text-green-500" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                    </svg>
                                    <span>Get Verified</span>
                                </button>
                            </div>
                        </div>

                        <div class="bg-white rounded-2xl shadow-lg p-6">
                            <h3 class="text-lg font-bold mb-4">Community Guidelines</h3>
                            <div class="space-y-3 text-sm text-gray-700">
                                <div class="p-4 bg-blue-50 rounded-xl">
                                    <h4 class="font-semibold text-blue-800 mb-2">Content Policy</h4>
                                    <ul class="space-y-1 text-blue-700">
                                        <li>• No hate speech, harassment, or bullying</li>
                                        <li>• No explicit sexual content or nudity</li>
                                        <li>• No spam or misleading information</li>
                                        <li>• No violence or threats</li>
                                        <li>• Respect intellectual property rights</li>
                                        <li>• Maximum 500 characters per buzz (except verified users)</li>
                                    </ul>
                                </div>
                                <div class="p-4 bg-yellow-50 rounded-xl">
                                    <h4 class="font-semibold text-yellow-800 mb-2">Prohibited Words</h4>
                                    <p class="text-yellow-700">Posts containing offensive language will be automatically removed and users will receive warnings.</p>
                                </div>
                                <div class="p-4 bg-red-50 rounded-xl">
                                    <h4 class="font-semibold text-red-800 mb-2">Consequences</h4>
                                    <ul class="space-y-1 text-red-700">
                                        <li>• First violation: Warning notification</li>
                                        <li>• Repeated violations: Temporary suspension</li>
                                        <li>• Severe violations: Permanent ban</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-2xl shadow-lg p-6">
                            <h3 class="text-lg font-bold mb-4">Privacy Policy</h3>
                            <div class="space-y-3 text-sm text-gray-700">
                                <div class="p-4 bg-gray-50 rounded-xl">
                                    <h4 class="font-semibold mb-2">Data Collection</h4>
                                    <p>We collect information you provide directly, usage data, and device information to improve our services.</p>
                                </div>
                                <div class="p-4 bg-gray-50 rounded-xl">
                                    <h4 class="font-semibold mb-2">Data Usage</h4>
                                    <p>Your data is used to personalize content, improve features, and ensure platform security.</p>
                                </div>
                                <div class="p-4 bg-gray-50 rounded-xl">
                                    <h4 class="font-semibold mb-2">Data Sharing</h4>
                                    <p>We don't sell your personal data. Information is only shared as necessary for service operation.</p>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-2xl shadow-lg p-6">
                            <h3 class="text-lg font-bold mb-4">Login Sessions</h3>
                            <div id="loginSessions" class="space-y-3 mb-4">
                                <!-- Login sessions will be loaded here -->
                            </div>
                            <button onclick="loadLoginSessions()" class="text-sm text-blue-500 hover:text-blue-700">Refresh Sessions</button>
                        </div>

                        <div class="bg-white rounded-2xl shadow-lg p-6">
                            <h3 class="text-lg font-bold mb-4">Blocked Users</h3>
                            <div id="blockedUsersList" class="space-y-3 mb-4">
                                <!-- Blocked users will be loaded here -->
                            </div>
                            <button onclick="loadBlockedUsers()" class="text-sm text-blue-500 hover:text-blue-700">Refresh Blocked Users</button>
                        </div>

                        <div class="bg-white rounded-2xl shadow-lg p-6">
                            <h3 class="text-lg font-bold mb-4">Account Actions</h3>
                            <div class="space-y-3">
                                <button onclick="exportData()" class="w-full text-left p-3 hover:bg-gray-50 rounded-xl flex items-center space-x-3">
                                    <svg class="w-5 h-5 text-blue-500" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd"/>
                                    </svg>
                                    <span>Export My Data</span>
                                </button>
                                <button onclick="openAccountSwitcher()" class="w-full text-left p-3 hover:bg-gray-50 rounded-xl flex items-center space-x-3">
                                    <svg class="w-5 h-5 text-purple-500" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z"/>
                                    </svg>
                                    <span>Switch Account</span>
                                </button>
                                <button onclick="logout()" class="w-full text-left p-3 hover:bg-gray-50 rounded-xl flex items-center space-x-3">
                                    <svg class="w-5 h-5 text-gray-500" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z" clip-rule="evenodd"/>
                                    </svg>
                                    <span>Logout</span>
                                </button>
                                <button onclick="deactivateAccount()" class="w-full text-left p-3 hover:bg-gray-50 rounded-xl text-red-600 flex items-center space-x-3">
                                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                                    </svg>
                                    <span>Deactivate Account</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Followers Page -->
                <div id="followersPage" class="hidden p-4 lg:p-6 pb-20 lg:pb-6">
                    <div class="flex items-center space-x-4 mb-6">
                        <button onclick="goBack()" class="text-pink-500 hover:text-pink-700">← Back</button>
                        <h2 id="followersTitle" class="text-xl lg:text-2xl font-bold gradient-text">Followers</h2>
                    </div>
                    <div class="flex space-x-4 mb-6">
                        <button id="followersTab" onclick="showFollowersTab()" class="px-4 py-2 rounded-full bg-pink-500 text-white">Followers</button>
                        <button id="followingTab" onclick="showFollowingTab()" class="px-4 py-2 rounded-full bg-gray-200 text-gray-700">Following</button>
                    </div>
                    <div id="followersContent" class="space-y-4">
                        <!-- Followers/Following list will be loaded here -->
                    </div>
                </div>

                <!-- Hashtag Page -->
                <div id="hashtagPage" class="hidden p-4 lg:p-6 pb-20 lg:pb-6">
                    <div class="flex items-center space-x-4 mb-6">
                        <button onclick="goBackFromHashtag()" class="text-pink-500 hover:text-pink-700">← Back</button>
                        <div>
                            <h2 id="hashtagTitle" class="text-xl lg:text-2xl font-bold gradient-text">#hashtag</h2>
                            <p id="hashtagCount" class="text-sm text-gray-600">0 posts</p>
                        </div>
                    </div>
                    <div id="hashtagFeed" class="space-y-4 lg:space-y-6">
                        <!-- Hashtag posts will be loaded here -->
                    </div>
                </div>

                <!-- Other User Profile Page -->
                <div id="otherUserProfile" class="hidden p-4 lg:p-6 pb-20 lg:pb-6">
                    <div class="bg-white rounded-2xl shadow-lg p-4 lg:p-8 mb-6">
                        <div class="flex flex-col sm:flex-row items-start space-y-4 sm:space-y-0 sm:space-x-6">
                            <img id="otherProfileImage" class="w-20 h-20 lg:w-24 lg:h-24 rounded-full border-4 border-pink-300 mx-auto sm:mx-0" src="" alt="Profile">
                            <div class="flex-1 text-center sm:text-left">
                                <div class="flex items-center justify-center sm:justify-start space-x-2 mb-2">
                                    <h2 id="otherProfileName" class="text-xl lg:text-2xl font-bold"></h2>
                                    <img id="otherProfileVerified" src="https://community.oriontec.xyz/verify.png" alt="Verified" class="hidden verified-badge">
                                </div>
                                <p id="otherProfileUsername" class="text-gray-600 mb-2"></p>
                                <div id="otherProfileLocation" class="text-gray-500 text-sm mb-2">
                                    <!-- Location, contact, and website will be shown only if set -->
                                </div>
                                <p id="otherProfileBio" class="text-gray-700 mb-4"></p>
                                <div class="flex justify-center sm:justify-start space-x-4 mb-4">
                                    <span onclick="showOtherUserFollowersPage('following')" class="text-sm cursor-pointer hover:text-pink-500"><strong id="otherFollowingCount">0</strong> Following</span>
                                    <span onclick="showOtherUserFollowersPage('followers')" class="text-sm cursor-pointer hover:text-pink-500"><strong id="otherFollowersCount">0</strong> Followers</span>
                                </div>
                                <div class="flex justify-center sm:justify-start items-center space-x-3">
                                    <button id="followBtn" onclick="toggleFollow()" class="gradient-bg text-white px-4 lg:px-6 py-2 rounded-full hover:opacity-90 transition-opacity text-sm lg:text-base">
                                        Follow
                                    </button>
                                    <button onclick="startChatWithUser()" class="border border-pink-500 text-pink-500 px-4 lg:px-6 py-2 rounded-full hover:bg-pink-50 transition-colors text-sm lg:text-base">
                                        💬 Message
                                    </button>
                                    <div class="relative">
                                        <button onclick="toggleOtherUserMenu()" class="border border-gray-300 text-gray-700 p-2 rounded-full hover:bg-gray-50 transition-colors">
                                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                                <path d="M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"/>
                                            </svg>
                                        </button>
                                        <div id="otherUserMenu" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 z-50">
                                            <div class="py-2">
                                                <button onclick="blockUser(); toggleOtherUserMenu()" class="w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center space-x-2">
                                                    <span>🚫</span>
                                                    <span id="blockText">Block User</span>
                                                </button>
                                                <button onclick="restrictUser(); toggleOtherUserMenu()" class="w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center space-x-2">
                                                    <span>⚠️</span>
                                                    <span id="restrictText">Restrict User</span>
                                                </button>
                                                <button onclick="muteUser(); toggleOtherUserMenu()" class="w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center space-x-2">
                                                    <span>🔇</span>
                                                    <span id="muteText">Mute User</span>
                                                </button>
                                                <button onclick="contactUser(); toggleOtherUserMenu()" class="w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center space-x-2">
                                                    <span>📞</span>
                                                    <span>Contact</span>
                                                </button>
                                                <hr class="my-2">
                                                <button onclick="reportUser(); toggleOtherUserMenu()" class="w-full text-left px-4 py-2 hover:bg-gray-100 text-red-600 flex items-center space-x-2">
                                                    <span>🚨</span>
                                                    <span>Report User</span>
                                                </button>
                                                <button onclick="adminSuspendUser(); toggleOtherUserMenu()" class="w-full text-left px-4 py-2 hover:bg-gray-100 text-red-600 flex items-center space-x-2" id="adminSuspendBtn" style="display: none;">
                                                    <span>⛔</span>
                                                    <span>Suspend User</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <h3 class="text-lg lg:text-xl font-bold mb-4">Buzz Posts</h3>
                    <div id="otherUserBuzzFeed" class="space-y-4 lg:space-y-6">
                        <!-- Other user's buzz posts will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Right Sidebar - Desktop & Tablet -->
            <div class="hidden md:block w-full md:w-80 bg-white h-screen sticky top-16 border-l border-gray-200 p-4 lg:p-6">
                <div class="mb-6">
                    <input type="text" id="searchInput" placeholder="Search users..." class="w-full p-3 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-pink-300 text-sm lg:text-base" oninput="searchUsers()">
                    <div id="searchResults" class="hidden mt-2 bg-white border border-gray-200 rounded-xl shadow-lg max-h-60 overflow-y-auto">
                        <!-- Search results will appear here -->
                    </div>
                </div>
                <div class="bg-gray-50 rounded-2xl p-4">
                    <h3 class="font-bold mb-4 text-sm lg:text-base">Verified Users</h3>
                    <div id="verifiedUsers" class="space-y-3">
                        <!-- Verified users will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Buzz Modal -->
    <div id="buzzModal" class="hidden fixed inset-0 bg-black bg-opacity-50 modal-backdrop z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl p-4 lg:p-8 max-w-lg w-full max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-4 lg:mb-6">
                <h3 class="text-lg lg:text-xl font-bold">Create Buzz</h3>
                <button onclick="closeBuzzModal()" class="text-gray-500 hover:text-gray-700 text-xl">✕</button>
            </div>
            <div class="flex items-start space-x-3 lg:space-x-4 mb-4">
                <img id="modalUserImage" class="w-10 h-10 lg:w-12 lg:h-12 rounded-full border-2 border-pink-300" src="" alt="User">
                <div class="flex-1 relative">
                    <textarea id="buzzContent" placeholder="What's buzzing? Use #hashtags and @mentions" class="w-full p-3 border border-gray-300 rounded-xl resize-none focus:outline-none focus:ring-2 focus:ring-pink-300 text-sm lg:text-base" rows="4" oninput="handleBuzzInput()" maxlength="500"></textarea>
                    <div class="flex justify-between items-center mt-2">
                        <div id="hashtagSuggestions" class="hidden absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-xl shadow-lg max-h-40 overflow-y-auto z-10">
                            <!-- Hashtag suggestions will appear here -->
                        </div>
                        <div class="flex-1"></div>
                        <div id="characterCounter" class="text-sm text-gray-500 character-counter">0/500</div>
                    </div>
                </div>
            </div>
            
            <!-- Poll Section -->
            <div id="pollSection" class="hidden mb-4 p-4 border border-gray-200 rounded-xl">
                <div class="flex items-center justify-between mb-3">
                    <h4 class="font-medium">Create Poll</h4>
                    <button onclick="removePoll()" class="text-red-500 hover:text-red-700 text-sm">Remove</button>
                </div>
                <div class="space-y-2">
                    <input type="text" id="pollOption1" placeholder="Option 1" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-300 text-sm" maxlength="100">
                    <input type="text" id="pollOption2" placeholder="Option 2" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-300 text-sm" maxlength="100">
                    <input type="text" id="pollOption3" placeholder="Option 3 (optional)" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-300 text-sm" maxlength="100">
                    <input type="text" id="pollOption4" placeholder="Option 4 (optional)" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-300 text-sm" maxlength="100">
                </div>
                <div class="mt-3">
                    <label class="block text-sm font-medium mb-2">Poll Duration</label>
                    <select id="pollDuration" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-300 text-sm">
                        <option value="1">1 hour</option>
                        <option value="6">6 hours</option>
                        <option value="24" selected>1 day</option>
                        <option value="72">3 days</option>
                        <option value="168">1 week</option>
                    </select>
                </div>
            </div>
            
            <!-- Location Section -->
            <div id="locationSection" class="hidden mb-4 p-4 border border-gray-200 rounded-xl">
                <div class="flex items-center justify-between mb-3">
                    <h4 class="font-medium">Location</h4>
                    <button onclick="removeLocation()" class="text-red-500 hover:text-red-700 text-sm">Remove</button>
                </div>
                <div id="locationDisplay" class="text-sm text-gray-600">
                    <div id="staticLocation" class="hidden">
                        <span id="locationText"></span>
                    </div>
                    <div id="liveLocation" class="hidden">
                        <div class="flex items-center space-x-2 location-sharing">
                            <span class="w-2 h-2 bg-red-500 rounded-full"></span>
                            <span>Sharing live location</span>
                        </div>
                        <div id="liveLocationText" class="text-xs text-gray-500 mt-1"></div>
                    </div>
                </div>
            </div>
            
            <div class="mb-4 flex items-center space-x-4">
                <button onclick="addPoll()" class="text-blue-500 hover:text-blue-700 flex items-center space-x-2 text-sm">
                    <span>📊</span>
                    <span>Add Poll</span>
                </button>
                <button onclick="addLocation()" class="text-green-500 hover:text-green-700 flex items-center space-x-2 text-sm">
                    <span>📍</span>
                    <span>Add Location</span>
                </button>
                <button class="text-gray-400 cursor-not-allowed flex items-center space-x-2 text-sm" disabled>
                    <span>📷</span>
                    <span>Add Image - Coming Soon</span>
                </button>
            </div>
            <div class="flex justify-end">
                <button id="postBuzzBtn" onclick="postBuzz()" class="gradient-bg text-white px-6 lg:px-8 py-2 rounded-full hover:opacity-90 transition-opacity text-sm lg:text-base">
                    Post Buzz
                </button>
            </div>
        </div>
    </div>

    <!-- Custom Confirmation Modal -->
    <div id="confirmationModal" class="hidden fixed inset-0 bg-black bg-opacity-50 modal-backdrop z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl p-6 max-w-sm w-full">
            <div class="text-center">
                <div class="text-4xl mb-4">⚠️</div>
                <h3 id="confirmationTitle" class="text-lg font-bold mb-2">Confirm Action</h3>
                <p id="confirmationMessage" class="text-gray-600 mb-6">Are you sure you want to proceed?</p>
                <div class="flex space-x-3">
                    <button onclick="closeConfirmationModal()" class="flex-1 px-4 py-2 border border-gray-300 rounded-full hover:bg-gray-50 transition-colors">
                        Cancel
                    </button>
                    <button id="confirmationConfirmBtn" onclick="confirmAction()" class="flex-1 px-4 py-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors">
                        Confirm
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Simple Verification Modal -->
    <div id="verificationModal" class="hidden fixed inset-0 bg-black bg-opacity-50 modal-backdrop z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl p-6 max-w-md w-full">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-bold flex items-center space-x-2">
                    <span>✅</span>
                    <span>Get Verified</span>
                </h3>
                <button onclick="closeVerificationModal()" class="text-gray-500 hover:text-gray-700 text-xl">✕</button>
            </div>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium mb-2">Full Name *</label>
                    <input type="text" id="verifyName" class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-300" placeholder="Your full name">
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-2">Age *</label>
                    <input type="number" id="verifyAge" min="13" max="100" class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-300" placeholder="Your age">
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-2">Category *</label>
                    <select id="verifyCategory" class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-300">
                        <option value="">Select Category</option>
                        <option value="professional">Professional</option>
                        <option value="business">Business</option>
                        <option value="creator">Content Creator</option>
                        <option value="public_figure">Public Figure</option>
                        <option value="artist">Artist</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-2">Verification Link *</label>
                    <input type="url" id="verifyLink" class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-300" placeholder="https://www.oriontec.xyz/date/username">
                    <p class="text-xs text-gray-500 mt-1">Link where your name appears (preferably oriontec.xyz)</p>
                </div>
                
                <div class="bg-blue-50 p-4 rounded-xl">
                    <h4 class="font-medium text-blue-800 mb-2">Requirements:</h4>
                    <ul class="text-sm text-blue-700 space-y-1">
                        <li>• Must be 13+ years old</li>
                        <li>• Provide valid verification link</li>
                        <li>• Your name must appear on the provided link</li>
                        <li>• Link will be checked automatically</li>
                        <li>• Special users get instant verification</li>
                        <li>• Others: 5 minutes auto-check process</li>
                    </ul>
                </div>
            </div>
            
            <div class="flex justify-end mt-6">
                <button onclick="submitVerification()" class="gradient-bg text-white px-6 py-2 rounded-full hover:opacity-90 transition-opacity">
                    Submit Request
                </button>
            </div>
        </div>
    </div>

    <!-- Profile Settings Modal -->
    <div id="profileSettingsModal" class="hidden fixed inset-0 bg-black bg-opacity-50 modal-backdrop z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl p-4 lg:p-8 max-w-lg w-full max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-4 lg:mb-6">
                <h3 class="text-lg lg:text-xl font-bold">Profile Settings</h3>
                <button onclick="closeProfileSettings()" class="text-gray-500 hover:text-gray-700 text-xl">✕</button>
            </div>
            <div class="space-y-4">
                <div class="bg-gray-50 rounded-2xl p-4">
                    <h3 class="font-bold mb-4 text-sm lg:text-base">Account Settings</h3>
                    <div class="space-y-3">
                        <button onclick="openEditProfile(); closeProfileSettings();" class="w-full text-left p-3 hover:bg-gray-100 rounded-xl flex items-center space-x-3">
                            <span>✏️</span>
                            <span>Edit Profile</span>
                        </button>
                        <button onclick="openVerificationModal(); closeProfileSettings();" class="w-full text-left p-3 hover:bg-gray-100 rounded-xl flex items-center space-x-3">
                            <span>✅</span>
                            <span>Get Verified</span>
                        </button>
                    </div>
                </div>
                
                <div class="bg-gray-50 rounded-2xl p-4">
                    <h3 class="font-bold mb-4 text-sm lg:text-base">Privacy Settings</h3>
                    <div class="space-y-4">
                        <div class="flex items-center justify-between">
                            <span class="text-sm">Private Account</span>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" id="profilePrivateAccount" class="sr-only peer">
                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-pink-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-pink-500"></div>
                            </label>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-sm">Show Online Status</span>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" id="profileShowOnlineStatus" class="sr-only peer" checked>
                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-pink-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-pink-500"></div>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="bg-gray-50 rounded-2xl p-4">
                    <h3 class="font-bold mb-4 text-sm lg:text-base">Notification Settings</h3>
                    <div class="space-y-4">
                        <div class="flex items-center justify-between">
                            <span class="text-sm">Push Notifications</span>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" id="profilePushNotifications" class="sr-only peer" checked>
                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-pink-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-pink-500"></div>
                            </label>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-sm">Email Notifications</span>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" id="profileEmailNotifications" class="sr-only peer">
                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-pink-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-pink-500"></div>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="bg-gray-50 rounded-2xl p-4">
                    <h3 class="font-bold mb-4 text-sm lg:text-base">Account Actions</h3>
                    <div class="space-y-3">
                        <button onclick="exportData()" class="w-full text-left p-3 hover:bg-gray-100 rounded-xl flex items-center space-x-3">
                            <span>📥</span>
                            <span>Export My Data</span>
                        </button>
                        <button onclick="deactivateAccount()" class="w-full text-left p-3 hover:bg-gray-100 rounded-xl text-red-600 flex items-center space-x-3">
                            <span>⚠️</span>
                            <span>Deactivate Account</span>
                        </button>
                    </div>
                </div>
            </div>
            <div class="flex justify-end mt-6">
                <button onclick="saveProfileSettings()" class="gradient-bg text-white px-6 lg:px-8 py-2 rounded-full hover:opacity-90 transition-opacity text-sm lg:text-base">
                    Save Settings
                </button>
            </div>
        </div>
    </div>

    <!-- Comment Modal -->
    <div id="commentModal" class="hidden fixed inset-0 bg-black bg-opacity-50 modal-backdrop z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl p-4 lg:p-8 max-w-lg w-full max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-4 lg:mb-6">
                <h3 class="text-lg lg:text-xl font-bold">Comments</h3>
                <button onclick="closeCommentModal()" class="text-gray-500 hover:text-gray-700 text-xl">✕</button>
            </div>
            <div id="commentsContainer" class="space-y-4 mb-6 max-h-60 overflow-y-auto">
                <!-- Comments will be loaded here -->
            </div>
            <div class="flex items-start space-x-3">
                <img id="commentUserImage" class="w-8 h-8 rounded-full border-2 border-pink-300" src="" alt="User">
                <div class="flex-1">
                    <textarea id="commentContent" placeholder="Write a comment..." class="w-full p-3 border border-gray-300 rounded-xl resize-none focus:outline-none focus:ring-2 focus:ring-pink-300 text-sm" rows="2"></textarea>
                    <div class="flex justify-end mt-2">
                        <button onclick="postComment()" class="gradient-bg text-white px-4 py-2 rounded-full hover:opacity-90 transition-opacity text-sm">
                            Post Comment
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Report Modal -->
    <div id="reportModal" class="hidden fixed inset-0 bg-black bg-opacity-50 modal-backdrop z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl p-4 lg:p-8 max-w-lg w-full max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-4 lg:mb-6">
                <h3 class="text-lg lg:text-xl font-bold">Report Buzz</h3>
                <button onclick="closeReportModal()" class="text-gray-500 hover:text-gray-700 text-xl">✕</button>
            </div>
            <div class="space-y-4">
                <p class="text-gray-600 text-sm">Why are you reporting this buzz?</p>
                <div class="space-y-3">
                    <label class="flex items-center space-x-3 cursor-pointer">
                        <input type="radio" name="reportReason" value="spam" class="text-pink-500">
                        <span>Spam or misleading content</span>
                    </label>
                    <label class="flex items-center space-x-3 cursor-pointer">
                        <input type="radio" name="reportReason" value="harassment" class="text-pink-500">
                        <span>Harassment or bullying</span>
                    </label>
                    <label class="flex items-center space-x-3 cursor-pointer">
                        <input type="radio" name="reportReason" value="hate" class="text-pink-500">
                        <span>Hate speech or discrimination</span>
                    </label>
                    <label class="flex items-center space-x-3 cursor-pointer">
                        <input type="radio" name="reportReason" value="violence" class="text-pink-500">
                        <span>Violence or threats</span>
                    </label>
                    <label class="flex items-center space-x-3 cursor-pointer">
                        <input type="radio" name="reportReason" value="inappropriate" class="text-pink-500">
                        <span>Inappropriate content</span>
                    </label>
                    <label class="flex items-center space-x-3 cursor-pointer">
                        <input type="radio" name="reportReason" value="copyright" class="text-pink-500">
                        <span>Copyright violation</span>
                    </label>
                    <label class="flex items-center space-x-3 cursor-pointer">
                        <input type="radio" name="reportReason" value="other" class="text-pink-500">
                        <span>Other</span>
                    </label>
                </div>
                <textarea id="reportDetails" placeholder="Additional details (optional)" class="w-full p-3 border border-gray-300 rounded-xl resize-none focus:outline-none focus:ring-2 focus:ring-pink-300 text-sm" rows="3"></textarea>
            </div>
            <div class="flex justify-end mt-6">
                <button onclick="submitReport()" class="bg-red-500 text-white px-6 py-2 rounded-full hover:bg-red-600 transition-colors text-sm">
                    Submit Report
                </button>
            </div>
        </div>
    </div>

    <!-- Referral System Modal -->
    <div id="referralModal" class="hidden fixed inset-0 bg-black bg-opacity-50 modal-backdrop z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl p-6 max-w-md w-full">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-bold flex items-center space-x-2">
                    <span>💰</span>
                    <span>Refer & Earn</span>
                </h3>
                <button onclick="closeReferralModal()" class="text-gray-500 hover:text-gray-700 text-xl">✕</button>
            </div>
            
            <div class="text-center mb-6">
                <div class="bg-gradient-to-r from-green-400 to-blue-500 text-white p-4 rounded-xl mb-4">
                    <h4 class="text-lg font-bold">Earn $0.1 per referral!</h4>
                    <p class="text-sm opacity-90">Share your link and earn money</p>
                </div>
                
                <div class="bg-gray-50 p-4 rounded-xl mb-4">
                    <p class="text-sm text-gray-600 mb-2">Your Referral Link:</p>
                    <div class="flex items-center space-x-2">
                        <input type="text" id="referralLink" class="flex-1 p-2 border border-gray-300 rounded-lg text-sm" readonly>
                        <button onclick="copyReferralLink()" class="bg-blue-500 text-white px-3 py-2 rounded-lg text-sm hover:bg-blue-600">Copy</button>
                    </div>
                </div>
                
                <div class="grid grid-cols-2 gap-4 mb-4">
                    <div class="bg-blue-50 p-3 rounded-xl text-center">
                        <div class="text-2xl font-bold text-blue-600" id="totalReferrals">0</div>
                        <div class="text-sm text-gray-600">Total Referrals</div>
                    </div>
                    <div class="bg-green-50 p-3 rounded-xl text-center">
                        <div class="text-2xl font-bold text-green-600" id="totalEarnings">$0.00</div>
                        <div class="text-sm text-gray-600">Total Earnings</div>
                    </div>
                </div>
                
                <div class="text-xs text-gray-500 mb-4">
                    <p>• Each referral must be from a different device</p>
                    <p>• Referred user must complete profile setup</p>
                    <p>• Earnings are updated in real-time</p>
                    <p>• Minimum withdrawal: $10</p>
                </div>
                
                <button onclick="withdrawEarnings()" class="w-full bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition-colors">
                    Withdraw Earnings
                </button>
            </div>
        </div>
    </div>

    <!-- Community Manager Modal -->
    <div id="communityModal" class="hidden fixed inset-0 bg-black bg-opacity-50 modal-backdrop z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-bold flex items-center space-x-2">
                    <span>👥</span>
                    <span>Community Manager</span>
                </h3>
                <button onclick="closeCommunityModal()" class="text-gray-500 hover:text-gray-700 text-xl">✕</button>
            </div>
            
            <div class="flex space-x-4 mb-6">
                <button onclick="showMyCommunities()" id="myCommunitiesTab" class="px-4 py-2 rounded-full bg-pink-500 text-white">My Communities</button>
                <button onclick="showCreateCommunity()" id="createCommunityTab" class="px-4 py-2 rounded-full bg-gray-200 text-gray-700">Create Community</button>
                <button onclick="showJoinCommunity()" id="joinCommunityTab" class="px-4 py-2 rounded-full bg-gray-200 text-gray-700">Join Community</button>
            </div>
            
            <!-- My Communities -->
            <div id="myCommunitiesContent" class="space-y-4">
                <div id="userCommunities">
                    <!-- User's communities will be loaded here -->
                </div>
            </div>
            
            <!-- Create Community -->
            <div id="createCommunityContent" class="hidden space-y-4">
                <div>
                    <label class="block text-sm font-medium mb-2">Community Name</label>
                    <input type="text" id="communityName" class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-300" placeholder="Enter community name">
                </div>
                <div>
                    <label class="block text-sm font-medium mb-2">Description</label>
                    <textarea id="communityDescription" class="w-full p-3 border border-gray-300 rounded-xl resize-none focus:outline-none focus:ring-2 focus:ring-pink-300" rows="3" placeholder="Describe your community..."></textarea>
                </div>
                <div>
                    <label class="block text-sm font-medium mb-2">Category</label>
                    <select id="communityCategory" class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-300">
                        <option value="">Select Category</option>
                        <option value="technology">Technology</option>
                        <option value="gaming">Gaming</option>
                        <option value="music">Music</option>
                        <option value="sports">Sports</option>
                        <option value="education">Education</option>
                        <option value="business">Business</option>
                        <option value="entertainment">Entertainment</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="flex items-center space-x-2">
                    <input type="checkbox" id="communityPrivate" class="rounded">
                    <label for="communityPrivate" class="text-sm">Private Community (Invite only)</label>
                </div>
                <button onclick="createCommunity()" class="w-full gradient-bg text-white py-3 rounded-full hover:opacity-90 transition-opacity">
                    Create Community
                </button>
            </div>
            
            <!-- Join Community -->
            <div id="joinCommunityContent" class="hidden space-y-4">
                <div>
                    <input type="text" id="communitySearch" placeholder="Search communities..." class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-300" oninput="searchCommunities()">
                </div>
                <div id="availableCommunities" class="space-y-3 max-h-60 overflow-y-auto">
                    <!-- Available communities will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Pinned Buzzes Modal -->
    <div id="pinnedBuzzesModal" class="hidden fixed inset-0 bg-black bg-opacity-50 modal-backdrop z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-bold flex items-center space-x-2">
                    <span>📌</span>
                    <span>Pinned Buzzes</span>
                </h3>
                <button onclick="closePinnedBuzzesModal()" class="text-gray-500 hover:text-gray-700 text-xl">✕</button>
            </div>
            
            <div id="pinnedBuzzesContent" class="space-y-4">
                <!-- Pinned buzzes will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Account Switcher Modal -->
    <div id="accountSwitcherModal" class="hidden fixed inset-0 bg-black bg-opacity-50 modal-backdrop z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl p-4 lg:p-8 max-w-lg w-full max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-4 lg:mb-6">
                <h3 class="text-lg lg:text-xl font-bold">Switch Account</h3>
                <button onclick="closeAccountSwitcher()" class="text-gray-500 hover:text-gray-700 text-xl">✕</button>
            </div>
            <div id="savedAccountsList" class="space-y-3 mb-6">
                <!-- Saved accounts will be loaded here -->
            </div>
            <div class="border-t pt-4">
                <button onclick="addNewAccount()" class="w-full gradient-bg text-white px-6 py-3 rounded-full hover:opacity-90 transition-opacity text-sm lg:text-base">
                    ➕ Add New Account
                </button>
            </div>
        </div>
    </div>

    <!-- Rebuzz with Comment Modal -->
    <div id="rebuzzModal" class="hidden fixed inset-0 bg-black bg-opacity-50 modal-backdrop z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl p-6 max-w-lg w-full">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-bold">Rebuzz with Comment</h3>
                <button onclick="closeRebuzzModal()" class="text-gray-500 hover:text-gray-700 text-xl">✕</button>
            </div>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium mb-2">Add your comment (optional)</label>
                    <textarea id="rebuzzComment" class="w-full p-3 border border-gray-300 rounded-xl resize-none focus:outline-none focus:ring-2 focus:ring-pink-300" rows="3" placeholder="What do you think about this buzz?"></textarea>
                </div>
                
                <div class="bg-gray-50 rounded-xl p-4">
                    <div class="text-sm text-gray-600 mb-2">Rebuzzing:</div>
                    <div id="originalBuzzPreview">
                        <!-- Original buzz preview will be shown here -->
                    </div>
                </div>
            </div>
            
            <div class="flex justify-end mt-6 space-x-3">
                <button onclick="closeRebuzzModal()" class="px-6 py-2 border border-gray-300 rounded-full hover:bg-gray-50 transition-colors">
                    Cancel
                </button>
                <button onclick="submitRebuzzWithComment()" class="gradient-bg text-white px-6 py-2 rounded-full hover:opacity-90 transition-opacity">
                    Rebuzz
                </button>
            </div>
        </div>
    </div>

    <!-- Create Group Modal -->
    <div id="createGroupModal" class="hidden fixed inset-0 bg-black bg-opacity-50 modal-backdrop z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl p-6 max-w-md w-full">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-bold">Create Group</h3>
                <button onclick="closeCreateGroupModal()" class="text-gray-500 hover:text-gray-700 text-xl">✕</button>
            </div>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium mb-2">Group Name</label>
                    <input type="text" id="groupName" class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-300" placeholder="Enter group name">
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-2">Group Description</label>
                    <textarea id="groupDescription" class="w-full p-3 border border-gray-300 rounded-xl resize-none focus:outline-none focus:ring-2 focus:ring-pink-300" rows="3" placeholder="Describe your group..."></textarea>
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-2">Add Members</label>
                    <input type="text" id="groupMemberSearch" placeholder="Search users..." class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-300" oninput="searchUsersForGroup()">
                    <div id="groupMemberResults" class="hidden mt-2 bg-white border border-gray-200 rounded-xl shadow-lg max-h-40 overflow-y-auto">
                        <!-- Search results will appear here -->
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-2">Selected Members</label>
                    <div id="selectedGroupMembers" class="flex flex-wrap gap-2 min-h-[40px] p-2 border border-gray-300 rounded-xl">
                        <!-- Selected members will appear here -->
                    </div>
                </div>
            </div>
            
            <div class="flex justify-end mt-6">
                <button onclick="createGroup()" class="gradient-bg text-white px-6 py-2 rounded-full hover:opacity-90 transition-opacity">
                    Create Group
                </button>
            </div>
        </div>
    </div>

    <!-- Call Modal -->
    <div id="callModal" class="hidden fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl p-6 max-w-md w-full text-center">
            <!-- Incoming Call -->
            <div id="incomingCall" class="hidden">
                <div class="mb-6">
                    <img id="incomingCallerImage" class="w-20 h-20 rounded-full mx-auto mb-4 border-4 border-pink-300" src="" alt="Caller">
                    <h3 id="incomingCallerName" class="text-xl font-bold mb-2"></h3>
                    <p class="text-gray-600 mb-4">Incoming <span id="incomingCallType">audio</span> call...</p>
                    <div class="animate-pulse">
                        <div class="w-16 h-16 bg-green-500 rounded-full mx-auto mb-4 flex items-center justify-center">
                            <span class="text-white text-2xl">📞</span>
                        </div>
                    </div>
                </div>
                <div class="flex justify-center space-x-4">
                    <button onclick="acceptCall()" class="bg-green-500 text-white px-6 py-3 rounded-full hover:bg-green-600 transition-colors">
                        ✅ Accept
                    </button>
                    <button onclick="rejectCall()" class="bg-red-500 text-white px-6 py-3 rounded-full hover:bg-red-600 transition-colors">
                        ❌ Decline
                    </button>
                </div>
            </div>

            <!-- Outgoing Call -->
            <div id="outgoingCall" class="hidden">
                <div class="mb-6">
                    <img id="outgoingCallerImage" class="w-20 h-20 rounded-full mx-auto mb-4 border-4 border-pink-300" src="" alt="Caller">
                    <h3 id="outgoingCallerName" class="text-xl font-bold mb-2"></h3>
                    <p class="text-gray-600 mb-4">Calling...</p>
                    <div class="animate-pulse">
                        <div class="w-16 h-16 bg-blue-500 rounded-full mx-auto mb-4 flex items-center justify-center">
                            <span class="text-white text-2xl" id="outgoingCallIcon">📞</span>
                        </div>
                    </div>
                </div>
                <button onclick="cancelCall()" class="bg-red-500 text-white px-6 py-3 rounded-full hover:bg-red-600 transition-colors">
                    ❌ Cancel
                </button>
            </div>

            <!-- Active Call -->
            <div id="activeCall" class="hidden">
                <div class="mb-6">
                    <img id="activeCallerImage" class="w-20 h-20 rounded-full mx-auto mb-4 border-4 border-pink-300" src="" alt="Caller">
                    <h3 id="activeCallerName" class="text-xl font-bold mb-2"></h3>
                    <p class="text-green-600 mb-4">Connected - <span id="callDuration">00:00</span></p>
                    
                    <!-- Video Elements -->
                    <div id="videoContainer" class="hidden mb-4 relative">
                        <video id="remoteVideo" class="w-full h-64 bg-gray-900 rounded-xl object-cover" autoplay playsinline controls="false"></video>
                        <video id="localVideo" class="w-20 h-16 bg-gray-700 rounded-lg absolute top-2 right-2 object-cover border-2 border-white" autoplay playsinline muted controls="false"></video>
                    </div>
                    
                    <!-- Audio Element for Audio Calls -->
                    <audio id="remoteAudio" autoplay style="display: none;"></audio>
                </div>
                
                <div class="flex justify-center space-x-4">
                    <button id="muteBtn" onclick="toggleMute()" class="bg-gray-500 text-white p-3 rounded-full hover:bg-gray-600 transition-colors">
                        🎤
                    </button>
                    <button id="videoBtn" onclick="toggleVideo()" class="hidden bg-gray-500 text-white p-3 rounded-full hover:bg-gray-600 transition-colors">
                        📹
                    </button>
                    <button onclick="endCall()" class="bg-red-500 text-white p-3 rounded-full hover:bg-red-600 transition-colors">
                        📞
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div id="editProfileModal" class="hidden fixed inset-0 bg-black bg-opacity-50 modal-backdrop z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl p-4 lg:p-8 max-w-lg w-full max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-4 lg:mb-6">
                <h3 class="text-lg lg:text-xl font-bold">Edit Profile</h3>
                <button onclick="closeEditProfile()" class="text-gray-500 hover:text-gray-700 text-xl">✕</button>
            </div>
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium mb-2">Display Name</label>
                    <input type="text" id="editDisplayName" class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-300 text-sm lg:text-base" placeholder="Your display name">
                </div>
                <div>
                    <label class="block text-sm font-medium mb-2">Username</label>
                    <input type="text" id="editName" class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-300<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9650f965215a3292',t:'MTc1MzUwMjI2MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>
